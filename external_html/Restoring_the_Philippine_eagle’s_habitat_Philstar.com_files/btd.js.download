(()=>{var t={757:t=>{t.exports={moduleName:"btd"}},395:(t,e,n)=>{var o=n(81),r=n(645)(o);r.push([t.id,'.btd_feed{position:fixed;bottom:0;left:0;transform:translateY(100%);transition:transform 600ms;z-index:99999;box-shadow:-3px -3px 5px 0px rgba(0,0,0,.2);background:#fff;width:100%}.btd_feed-open{transform:translateY(0)}.btd_feed-open .ob-btd-close-tab{display:flex;position:absolute;align-items:center;padding:2px 4px 5px 12px;justify-content:space-between;border-radius:8px 8px 0 0;gap:15px;right:0;background-color:#fff;box-shadow:-1px -3px 3px 0px rgba(0,0,0,.2);transform:translateY(-96%)}.btd_feed-open .ob-btd-close-tab .ob_what{display:flex;flex-direction:row;align-items:center;gap:4px;order:1}.btd_feed-open .ob-btd-close-tab .ob_what a{position:relative;text-decoration:none}.btd_feed-open .ob-btd-close-tab .ob_what a:after{content:"";top:50%;left:100%;margin-left:3px;border-right:1px solid #a4a3a8;position:absolute;transform:translateY(-50%);height:15px}.btd_feed-open .ob-btd-close-tab .ob_what .ob_amelia{display:inline-block;background:url(https://widgets.outbrain.com/images/widgetIcons/ob_logo_16x16@2x.png) no-repeat center top;width:14px;height:14px;margin-bottom:-1px;background-size:14px 28px}.btd_feed-open .ob-btd-close-tab .ob_what .ob_adChoice{display:inline-block;background:url(https://widgets.outbrain.com/images/widgetIcons/achoice.svg) no-repeat center top;width:10px;height:10px;background-size:100% 100%;margin-left:3px}.btd_feed-open .ob-btd-close-tab .ob_btd_close_btn{display:inline-block;width:20px;height:20px;flex-shrink:0;cursor:pointer;margin-right:5px;order:2}.btd_feed-close-button{position:absolute;top:8px;right:8px;background:url(https://widgets.outbrain.com/images/topbox/gray_x.gif) no-repeat center top;background-size:10px 10px;width:10px;height:10px;cursor:pointer}',""]),t.exports=r},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,o,r,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(o)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(a[d]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);o&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},81:t=>{"use strict";t.exports=function(t){return t[1]}},269:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.closeTabComponent=void 0;var o=n(857),r=function(){function t(t,e){this.api=t,this.props=e,this.didRender=!1,this.btdParentContainer=document.querySelector("[data-widget-id='".concat(e.widgetJsId,"']")),this.closeTabNode=(0,o.getMarkup)('<div class="ob-btd-close-tab">\n        <div class="ob_btd_close_btn">\n            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n                <path d="M6.20528 5.33092C5.96063 5.14934 5.6134 5.16947 5.39149 5.39133C5.14738 5.63538 5.14733 6.03111 5.39138 6.27521L9.11523 10L5.39138 13.7248C5.14733 13.9689 5.14738 14.3646 5.39149 14.6087C5.6134 14.8305 5.96063 14.8506 6.20528 14.6691L6.27537 14.6085L9.99921 10.8842L13.7248 14.6087C13.9467 14.8305 14.294 14.8506 14.5386 14.6691L14.6087 14.6085C14.8306 14.3866 14.8507 14.0394 14.6691 13.7948L14.6086 13.7247L10.883 10L14.6086 6.27533L14.6691 6.20523C14.8507 5.96058 14.8306 5.61336 14.6087 5.39144L14.5386 5.33092C14.294 5.14934 13.9467 5.16947 13.7248 5.39133L9.99921 9.11583L6.27537 5.39144L6.20528 5.33092Z" fill="#151E41"/>\n            </svg>\n        </div>\n    </div>')}return t.prototype.render=function(){if(!this.didRender){this.didRender=!0,this.closeTabNode.querySelector(".ob_btd_close_btn").addEventListener("click",this.props.dismiss);var t=this.getCloneWhatIsContainer();this.closeTabNode.appendChild(t),this.btdParentContainer.prepend(this.closeTabNode)}},t.prototype.getCloneWhatIsContainer=function(){var t,e=null===(t=this.btdParentContainer)||void 0===t?void 0:t.querySelector(".ob_what");e.appendChild((0,o.getMarkup)('<span class="ob_adChoice"></span>'));var n=null==e?void 0:e.cloneNode(!0);return null==e||e.remove(),n},t}(),i=null;e.closeTabComponent=function(t,e){return null===i&&(i=new r(t,e)),i}},403:function(t,e,n){"use strict";var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{d(o.next(t))}catch(t){i(t)}}function s(t){try{d(o.throw(t))}catch(t){i(t)}}function d(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}d((o=o.apply(t,e||[])).next())}))},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.RootComponent=void 0;var i=n(269),a=function(){function t(){}return t.prototype.init=function(e){return o(this,void 0,void 0,(function(){return r(this,(function(n){return t.registerWidgetRenderedEvent(e),t.tryAddBTD(e),[2]}))}))},t.registerWidgetRenderedEvent=function(e){var n=e.getSetting(t.BOTTOM_DRAWER_JS_ID_TO_INJECT_SETTING_KEY,""),o=e.getRequest("readerPlatform","desktop");n&&(window.OBREvents=window.OBREvents||[],window.OBREvents.push({name:"rendered",widgetId:n,callback:function(){t.btd&&(t.addCloseBtn(e),t.registerScrollEvent(e))}}),"mobile"===o.toLowerCase()&&window.OBREvents.push({name:"rendered",widgetId:n,feedCards:1,callback:function(e){var n=e.parentWidgetId,o=e.element,r=e.widgetId;n&&t.addCardCss(o,r)}}))},t.addCardCss=function(e,n){var o,r=t.generateBTDCss();r.innerHTML="@media screen and (orientation: landscape) {\n      .".concat(n,".ob-widget.ob-grid-layout .ob-widget-items-container {\n          grid-template-columns: repeat(2, minmax(min-content, 1fr));\n          grid-template-rows: repeat(1, auto);\n        }\n      }"),null===(o=null==e?void 0:e.firstChild)||void 0===o||o.appendChild(r)},t.tryAddBTD=function(e){if(!t.isBtdExist&&!e.getSetting(t.IS_TOP_BOX_INJECTION_ENABLED_SETTING_KEY,!1)){var n=e.getRequest("readerPlatform","desktop"),o=e.getSetting(t.BOTTOM_DRAWER_JS_ID_TO_INJECT_SETTING_KEY,"");if(t.isBTDToInject(n,o)||window["btd_preview-mode"]){var r=t.generateBTDElement(e);document.body.append(r),OBR.extern.researchWidget(),t.isBtdExist=!0}}},t.generateBTDElement=function(e){var n=document.createElement("div"),o=e.getSetting(t.BOTTOM_DRAWER_JS_ID_TO_INJECT_SETTING_KEY,""),r=e.getNode().parentElement.getAttribute("data-src")||window.location.href;return n.setAttribute("class","OUTBRAIN btd_feed"),n.setAttribute("data-widget-id",o),n.setAttribute("data-src",r),n},t.generateBTDCss=function(){var t=document.createElement("style");return t.setAttribute("class","ob-btd-css"),t.setAttribute("type","text/css"),t},t.addCloseBtn=function(e){var n,o;if(e.getSetting(t.ENABLE_CLOSE_TAB_SETTING_KEY,!1))try{return void t.addCloseTab(e)}catch(t){}n=t.btd,(o=document.createElement("span")).onclick=function(){return t.dismiss()},o.classList.add("btd_feed-close-button"),n.append(o)},t.addCloseTab=function(e){var n={dismiss:function(){return t.dismiss()},widgetJsId:e.getSetting(t.BOTTOM_DRAWER_JS_ID_TO_INJECT_SETTING_KEY,"")};(0,i.closeTabComponent)(e,n).render()},Object.defineProperty(t,"btd",{get:function(){return document.getElementsByClassName("btd_feed")[0]},enumerable:!1,configurable:!0}),t.getTriggersConfig=function(e){var n=navigator.userAgent,o=/iPad|iPhone/.test(n)&&/Safari/.test(n)&&!/CriOS/.test(n)?100:0,r=e.getSetting(t.TOP_BOX_TRIGGER_DISTANCE_IN_VIEWPORTS_DOWN_SETTING_KEY,.5);return{downDistanceFromTopInPx:window.innerHeight*r,upDistanceFromScrollStartInPx:e.getSetting(t.TOP_BOX_TRIGGER_DISTANCE_IN_PIXELS_UP_SETTING_KEY,o)}},t.dismiss=function(){t.isDisabled=!0,t.btd.classList.remove("btd_feed-open")},t.initScrollHandler=function(e){var n=t.btd.classList,o=0,r=0,i=!1,a=!1;return function(){if(!t.isDisabled){var s=t.getCurrentScrollPosition(),d=s<o,c=s>o;o=s,d&&(r||(r=s),function(){if(!a&&i){var o=t.getCurrentScrollPosition();r-o>e.upDistanceFromScrollStartInPx&&(n.add("btd_feed-open"),a=!0)}}()),c&&(r=0,s>e.downDistanceFromTopInPx&&(i=!0),a&&(n.remove("btd_feed-open"),a=!1))}}},t.registerScrollEvent=function(e){var n=t.getTriggersConfig(e),o=e.getSetting(t.BOTTOM_DRAWER_SCROLL_SELECTOR_SETTING_KEY,null);t.scrollableContainer=o?document.querySelector(o):window,t.scrollableContainer.addEventListener("scroll",t.initScrollHandler(n),{passive:!0})},t.isBTDToInject=function(e,n){return t.isMobileBTDToInject(e,n)||t.isDesktopBTDToInject(e,n)},t.isMobileBTDToInject=function(t,e){return"mobile"===t.toLowerCase()&&e.toUpperCase().startsWith("BTD_FEED_")},t.isDesktopBTDToInject=function(t,e){return"desktop"===t.toLowerCase()&&e.toUpperCase().startsWith("BTD_DESKTOP_FEED_")},t.getCurrentScrollPosition=function(){var e=t.scrollableContainer,n=e.scrollY,o=e.scrollTop;return n||o||0},t.IS_TOP_BOX_INJECTION_ENABLED_SETTING_KEY="isTopBoxInjectionEnabled",t.BOTTOM_DRAWER_JS_ID_TO_INJECT_SETTING_KEY="bottomDrawerJsIdToInject",t.BOTTOM_DRAWER_SCROLL_SELECTOR_SETTING_KEY="bottomDrawerScrollSelector",t.TOP_BOX_TRIGGER_DISTANCE_IN_VIEWPORTS_DOWN_SETTING_KEY="topBoxFirstTrigger",t.TOP_BOX_TRIGGER_DISTANCE_IN_PIXELS_UP_SETTING_KEY="topBoxSecondTrigger",t.ENABLE_CLOSE_TAB_SETTING_KEY="bottomDrawerEnableCloseTab",t.isDisabled=!1,t.isBtdExist=!1,t}();e.RootComponent=a,e.default=a},857:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getMarkup=void 0;e.getMarkup=function(t){var e=function(t){var e=document.createElement("template");return e.innerHTML=t&&"string"==typeof t?t.trim():"",e.content.firstChild}(t);if(e&&e.nodeType===Node.ELEMENT_NODE)return e}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}(()=>{"use strict";var t=n(395),e=n(757),o=n(403),r=t.toString(),i=function(){function t(t){this.component=new o.default,t.setStyles(r),this.api=t,this.component.init(t)}return t.init=function(e){return new t(e)},t}();OBR.extern.initGnrModule(e.moduleName,{callback:function(t){return i.init(t)},version:"f_v1"})})()})();